# 7.4 æ“åˆå®šæ—¶è°ƒåº¦åŠŸèƒ½è®¾è®¡ä¸å®ç°

ä¸Šä¸€å°èŠ‚ä»‹ç»äº†å¦‚ä½•åˆ©ç”¨ eosjs ä¸é“¾è¿›è¡Œæ•°æ®äº¤äº’ï¼›é‚£ä¹ˆæœ¬å°èŠ‚å°†ä¸»è¦ä»‹ç»å¦‚ä½•å®šæ—¶è§¦å‘è°ƒåº¦æ£€æŸ¥ä¹°å–è®¢å•è–„æ˜¯å¦å­˜åœ¨æ“åˆè®¢å•ä»¥åŠå¦‚ä½•è§¦å‘æ“åˆæ–¹æ³•ç­‰ã€‚

* * *

## åŠŸèƒ½ä»‹ç»

æ“åˆè°ƒåº¦åŠŸèƒ½ï¼Œä¸»è¦æ˜¯é€šè¿‡ Node è°ƒåº¦æœåŠ¡æ¯éš” x åˆ†é’ŸæŸ¥è¯¢æ™ºèƒ½åˆçº¦æ‰€æœ‰äº¤æ˜“å¯¹çš„è®¢å•è–„ä¸­ä¹°å–é˜Ÿåˆ—ä¸­æ˜¯å¦å­˜åœ¨å¯ä»¥æ“åˆçš„è®¢å•ï¼Œå½“å‘ç°æœ‰ç¬¦åˆæ¡ä»¶çš„è®¢å•æ—¶ï¼Œè‡ªåŠ¨æ‰§è¡Œæ“åˆæ–¹æ³•è¿›è¡Œæ“åˆé€»è¾‘å¤„ç†ï¼Œå¹¶å°†æ“åˆåçš„è®¢å•æ˜ç»†ä¸Šé“¾ã€‚

## è°ƒåº¦é…ç½®

è°ƒåº¦å®ç°æ˜¯ç”± node-schedule ç»„ä»¶è¿›è¡Œå®ç°çš„ï¼Œè¯¥ç»„ä»¶æ”¯æŒ cron è¡¨è¾¾å¼é…ç½®ã€‚

## æƒé™è¦æ±‚

è€ƒè™‘åˆ°æ™ºèƒ½åˆçº¦çš„èµ„é‡‘å’Œä¸šåŠ¡æ•°æ®çš„å®‰å…¨æ€§ï¼Œéœ€è¦å¯¹æ™ºèƒ½åˆçº¦çš„æ–¹æ³•è¿›è¡Œåˆ†çº§æƒé™ç®¡ç†ã€‚æ‰€ä»¥å¯¹äºæ‰§è¡Œè°ƒåº¦çš„ç§é’¥åªæˆæƒæ™ºèƒ½åˆçº¦æ“åˆæ–¹æ³•çš„æƒé™ã€‚

## æŠ€æœ¯å®ç°

å¯¹äºè¯¥åŠŸèƒ½ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†å®ç°ï¼š

1.  é€šè¿‡ eosjs æŒ‰ç…§ä»·æ ¼ä¼˜å…ˆæ—¶é—´ä¼˜å…ˆçš„ç­–ç•¥å¯¹è®¢å•è–„ä¹°å–è®¢å•è¿›è¡Œæ’åºå¹¶æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¯æ“åˆè®¢å•ã€‚ è‡³äºæ’åºçš„å®ç°å¯ä»¥å€Ÿç”¨æ™ºèƒ½åˆçº¦ç´¢å¼•å™¨çš„ç‰¹ç‚¹è¿›è¡Œå®ç°ã€‚
2.  å¯¹å¯æ“åˆçš„è®¢å•è¿›è¡Œé“¾ä¸Šæ“åˆã€‚å¯¹äºæ“åˆæ•°æ®ä¸Šé“¾çš„å®ç°å¯èƒ½é€šè¿‡è°ƒç”¨åˆçº¦æ–¹æ³•çš„æ–¹æ³•è¿›è¡Œé“¾ä¸Šæ•°æ®å­˜å‚¨ã€‚æ¯”å¦‚ï¼š

    ```js
    auto logdata = assemmblelog(pair_id, price_precision, precision, fill_quote_quantity, sellprice, ......);       
    action(
        permission_level{ _self, "active"_n },
        _self, "log"_n,
        std::make_tuple(logdata)
    ).send();
    ```

å¦å¤–ï¼Œåœ¨è°ƒåº¦çš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦å¯¹è°ƒåº¦ä»»åŠ¡è¿›è¡ŒåŠ é”å¤„ç†ï¼Œé˜²æ­¢é‡å¤æ£€æŸ¥è°ƒç”¨é—®é¢˜çš„å‡ºç°ã€‚å¦‚æœè¦è¿›è¡Œå¤šæœºéƒ¨ç½²çš„åŒ–ï¼Œéœ€è¦è€ƒè™‘åˆ†å¸ƒå¼é”çš„å®ç°ã€‚

å¦‚æœè¿˜éœ€è¦å°†åŠŸèƒ½è¿›è¡Œåˆ†ç¦»éƒ¨ç½²ï¼Œæ¯”å¦‚ï¼šå°†æŠ¥è¡¨æ¥å£æœåŠ¡ã€è°ƒåº¦æœåŠ¡è¿›è¡Œå•ç‹¬éƒ¨ç½²ï¼Œé‚£ä¹ˆéœ€è¦åœ¨å¯åŠ¨æ—¶éœ€è¦æ”¯æŒå‚æ•°åŒ–çš„é…ç½®ã€‚

## ç›¸å…³çŸ¥è¯†ç‚¹

[Cron Expression Generator & Explainer - Quartz](https://www.freeformatter.com/cron-expression-generator-quartz.html)

* * *

é€šè¿‡æœ¬å°èŠ‚çš„å­¦ä¹ ã€æ€è€ƒä¸åŠ¨æ‰‹å®è·µï¼Œæˆ‘ä»¬å®Œæˆäº†æ“åˆè®¢å•åŒ¹é…åŠŸèƒ½ã€æäº¤æ“åˆäº¤æ˜“ã€å®šæ—¶è°ƒåº¦ä»¥åŠæˆäº¤è®¢å•ä¸Šé“¾åŠŸèƒ½ã€‚

* * *

> åœ¨æ•™ç¨‹ä¸­å¦‚å‡ºç°é”™è¯¯ğŸ›æˆ–ä¸æ˜“ç†è§£çš„çŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡æŒ‡æ­£! Name: zhangliang | WeChat: rushking2009 | Mail: zhangliang@cldy.org

![Show me your code.](img/9c507c40d372f5692d061c802a44deb2.jpg "åŠ ç¾¤äº†è§£")![](img/aab6c923225b0a35b6580de17534641d.jpg)

æ³¨ï¼š æœ‰æƒ³äº†è§£**æ„¿ç å…¨æ€ç»´ IT å·¥ç¨‹å¸ˆåŠ é€Ÿå™¨**çš„æœ‹å‹ï¼Œå¯ä»¥æ‰«ç åŠ ç¾¤å’¨è¯¢ã€‚

* * *

### **changelog**

2019-03-04 zhangliang \zhangliang@cldy.org\

*   åˆæ¬¡å‘ç¨¿
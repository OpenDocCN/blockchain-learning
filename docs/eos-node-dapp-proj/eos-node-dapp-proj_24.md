# ä¸ƒã€.6 K çº¿å›¾æŠ¥è¡¨åŠŸèƒ½è®¾è®¡ä¸å®ç°

æœ¬å°èŠ‚æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•å®ç°å¯¹å¤– K çº¿å›¾æŠ¥è¡¨æ•°æ®æŸ¥è¯¢;å½“å‘ç”Ÿæˆäº¤è®¢å•æ—¶ï¼Œå¦‚ä½•å®æ—¶æ¨é€æŠ¥è¡¨æ•°æ®è‡³å‰ç«¯å±•ç¤ºé¡µã€‚

* * *

## åŠŸèƒ½ä»‹ç»

K çº¿å›¾æŠ¥è¡¨åŠŸèƒ½ï¼Œä¸»è¦ç”¨äºæŒ‰ç…§ç”¨æˆ·æ‰€é€‰æ‹©çš„ä¸åŒç»´åº¦ K çº¿å›¾è¿›è¡Œä¸åŒæŠ¥è¡¨æ•°æ®å±•ç¤ºï¼›å½“æœ‰æ–°æˆäº¤è®¢å•æ—¶æŒ‰ç…§æ¨é€æœ€æ–° K çº¿æ•°æ®è‡³å‰ç«¯é¡µé¢ã€‚

## æ¥å£æœåŠ¡

### æŸ¥è¯¢æŠ¥è¡¨æ•°æ®

æ”¯æŒ 5 åˆ†é’Ÿã€30 åˆ†é’Ÿã€å°æ—¶ã€å¤©å››ç§ç»´åº¦çš„ K çº¿å›¾æ•°æ®å±•ç¤º

**è§¦å‘æ¡ä»¶ï¼š**

1.  å½“ç”¨æˆ·ç¬¬ä¸€æ¬¡è¿›è¡Œäº¤æ˜“æ‰€æ—¶ï¼Œéœ€è¦æ ¹æ®å½“å‰æŠ¥è¡¨ç»´åº¦(åˆ†ã€æ—¶ã€å¤©) æŸ¥è¯¢å›ºå®šæ—¶é—´æ®µæŠ¥è¡¨æ•°æ®
2.  å½“ç”¨æˆ·åˆ‡æ¢äº¤æ˜“å¯¹æ—¶ï¼Œ éœ€è¦æ ¹æ®æŠ¥è¡¨å½“å‰ç»´åº¦(åˆ†ã€æ—¶ã€å¤©)æŸ¥è¯¢å›ºå®šæ—¶é—´æ®µçš„æŠ¥è¡¨æ•°æ®
3.  å½“ç”¨æˆ·æ‹–åŠ¨ K çº¿å›¾æ—¶ï¼Œéœ€è¦æ ¹æ®å½“å‰ç»´åº¦æŸ¥è¯¢ä¸åŒæ—¶é—´æ®µçš„æŠ¥è¡¨æ•°æ®

**æ•°æ®æ¥å£**

*   **è¯·æ±‚å‚æ•°:**

    ```js
    {
        "pairid": "", //äº¤æ˜“å¯¹ id
        "begintime": "", //æŸ¥è¯¢æ—¶é—´åŒºé—´ï¼ˆå¼€å§‹ï¼‰: 2019-02-01 09:00:00
        "endtime": "",   //æŸ¥è¯¢æ—¶é—´åŒºé—´ï¼ˆç»“æŸï¼‰: 2019-02-01 09:00:00
        "duration": ""   //æŸ¥è¯¢å‘¨æœŸ: 60(1min)ã€3600(1Hour)ã€86400(1 å¤©)
    }
    ```

*   **æäº¤æ–¹å¼ï¼š**

    ```js
    `post`
    ```

*   **å“åº”ç»“æœï¼š**

    ```js
    {
      "result": "ok",
      "data": [
        ["2019-02-01 12:00", 0.021200, 0.021200, 0.030000, 0.020000, 120391], //time, close, open, high, low, volume. (æ—¶é—´ï¼Œæ”¶ç›˜ä»·ã€å¼€ç›˜ä»·ã€å½“æ—¥æœ€é«˜ä»·ã€å½“æ—¥æœ€ä½ä»·ã€å½“æ—¥æˆäº¤é‡)
        ... ...
      ]
    }
    ```

### æ¨é€æŠ¥è¡¨æ•°æ®

æ”¯æŒ 5 åˆ†é’Ÿã€30 åˆ†é’Ÿã€å°æ—¶ã€å¤©å››ç§ç»´åº¦çš„ K çº¿å›¾æ•°æ®æ¨é€

**è§¦å‘æ¡ä»¶ï¼š**

*   å½“ç›‘æµ‹åˆ°æœ‰æ–°æˆäº¤è®°å½•æ—¶ï¼Œéœ€åœ¨åŒæ­¥å®ŒåŒºå—æ•°æ®åï¼Œå¢é‡æ¨é€æœ€æ–°çš„æŠ¥è¡¨æ•°æ®è‡³ç”¨æˆ· web ç«¯

**æ•°æ®æ¥å£**

*   **æ¥å£åœ°å€(TOPIC)** `kline.query`
*   **è¯·æ±‚å‚æ•°**
    1.  äº¤æ˜“å¯¹ id ï¼šæŸ¥è¯¢æŠ¥è¡¨æ‰€å¯¹åº”çš„äº¤æ˜“å¯¹
    2.  å¼€å§‹æ—¶é—´ï¼šæŠ¥è¡¨å±•ç¤ºå¼€å§‹æ—¶é—´
    3.  ç»“æŸæ—¶é—´ï¼šæŠ¥è¡¨å±•ç¤ºç»“æŸæ—¶é—´
    4.  æ—¶é—´å‘¨æœŸï¼šæŠ¥è¡¨å±•ç¤ºç»´åº¦
*   **å“åº”ç»“æœï¼š** ç›‘å¬æ–¹æ³•: kline.query

    ```js
    {
        "method": "kline.query",
        "data": [
            //time, close, open, high, low, volume. 
            //(æ—¶é—´ï¼Œæ”¶ç›˜ä»·ã€å¼€ç›˜ä»·ã€å½“æ—¥æœ€é«˜ä»·ã€å½“æ—¥æœ€ä½ä»·ã€å½“æ—¥æˆäº¤é‡)
            ["2019-02-01 12:00", 0.021200, 0.021200, 0.030000, 0.020000, 120391], 
                ... ...
        ],
        "params": [1, 3600] //äº¤æ˜“å¯¹ id, æ—¶é—´å‘¨æœŸ
    } 
    ```

    ## æŠ€æœ¯å®ç°

    1.  å¯æ ¹æ®å‰ç«¯è¯·æ±‚çš„æ•°æ®èŒƒå›´åŠå±•ç¤ºç»´åº¦ï¼Œèšåˆåå°æŠ¥è¡¨æ•°æ®ã€‚
    2.  åœ¨åŒæ­¥æ•°æ®åŒºå—æ—¶ï¼ŒåŠ å…¥æŠ¥è¡¨æ•°æ®æ¨èçš„ä¸šåŠ¡é€»è¾‘ã€‚

* * *

é€šè¿‡æœ¬å°èŠ‚çš„å­¦ä¹ ã€æ€è€ƒä¸åŠ¨æ‰‹å®è·µï¼Œæˆ‘ä»¬å®Œæˆäº† K çº¿å›¾çš„æŠ¥è¡¨æ•°æ®æŸ¥è¯¢ä¸æ¨é€åŠŸèƒ½ã€‚

* * *

> åœ¨æ•™ç¨‹ä¸­å¦‚å‡ºç°é”™è¯¯ğŸ›æˆ–ä¸æ˜“ç†è§£çš„çŸ¥è¯†ç‚¹ï¼Œæ¬¢è¿åŠ æˆ‘å¾®ä¿¡æŒ‡æ­£! Name: zhangliang | WeChat: rushking2009 | Mail: zhangliang@cldy.org

![Show me your code.](img/9c507c40d372f5692d061c802a44deb2.jpg "åŠ ç¾¤äº†è§£")![](img/aab6c923225b0a35b6580de17534641d.jpg)

æ³¨ï¼š æœ‰æƒ³äº†è§£**æ„¿ç å…¨æ€ç»´ IT å·¥ç¨‹å¸ˆåŠ é€Ÿå™¨**çš„æœ‹å‹ï¼Œå¯ä»¥æ‰«ç åŠ ç¾¤å’¨è¯¢ã€‚

* * *

### **changelog**

2019-03-04 zhangliang

*   åˆæ¬¡å‘ç¨¿

2019-03-05 zhangliang

*   å®Œå–„ http/socket æ•°æ®æ¥å£åŠå‚æ•°
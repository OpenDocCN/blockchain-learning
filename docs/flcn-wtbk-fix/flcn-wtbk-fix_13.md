# 四、.3 时空证明

存储证明（POS）方案允许用户在挑战（challenge）期间，检查存储提供者存储的外包数据是否正处于保存中。我们如何使用 POS 方案去证明数据在一定时间内一直处于被存储的呢？这个问题的答案就是，用户要不断地重复给存储提供者发起挑起。然而每次交互所需要的通信复杂度会成为系统（如 Filecoin 系统）的一个瓶颈，因为存储提供者被要求提交他们的证明到区块链网络。

为了回答这个问题，我们介绍了新的证明，“时空证明”，它可以让验证者检查存储提供商是否在一段时间内存储了他/她的外包数据。这对提供者的直接要求是：（1）生成顺序的存储证明（在我们的例子里是“复制证明”）来作为确定时间的一种方法 （2）递归地组合执行，从而产生一个简短的证明。

定义 3.2

*（时空证明）PoSt 方案使得有效的证明人 P 能够说服一个验证者 V 相信 P 在一段时间 t 内一直存储着一些数据 D。PoSt 包含下边多项式时间算法： (Setup, Prove, Verify)

*   PoSt.Setup(1λ,D)->Sp，Sv，其中 SP 和 SV 是 P 和 V 的特定方案的设置变量，λ是一个安全参数。PoSt.Setup 用来给予 P 和 V 必要的信息来运行 PoSt.Prove 和 PoSt.Prove。一些方案可能要求证明人或者是有互动的第三方去运算 PoSt.Setup。
*   PoSt.Prove(Sp , D, c, t) → πc，其中 c 是验证人 V 发出的随机挑战， πc 是证明人在一段时间内可以访问数据 D 的的证明。PoSt.Prove 由 P（证明人）运行，并生成πc 给 V（验证者）。
*   PoSt.Verify(Sv , c, t, πc) → {0, 1}，用来检测证明是否正确。PoSt.Verify 由 V 运行并说服 V 自己相信 P 在一段时间内一直存储数据 D。